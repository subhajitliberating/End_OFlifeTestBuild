var p={};/*!
 * content-type
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var E;function m(){if(E)return p;E=1;var s=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,d=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/,u=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,c=/\\([\u000b\u0020-\u00ff])/g,v=/([\\"])/g,y=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;p.format=w,p.parse=h;function w(r){if(!r||typeof r!="object")throw new TypeError("argument obj is required");var e=r.parameters,t=r.type;if(!t||!y.test(t))throw new TypeError("invalid type");var o=t;if(e&&typeof e=="object")for(var a,f=Object.keys(e).sort(),n=0;n<f.length;n++){if(a=f[n],!u.test(a))throw new TypeError("invalid parameter name");o+="; "+a+"="+g(e[a])}return o}function h(r){if(!r)throw new TypeError("argument string is required");var e=typeof r=="object"?T(r):r;if(typeof e!="string")throw new TypeError("argument string is required to be a string");var t=e.indexOf(";"),o=t!==-1?e.slice(0,t).trim():e.trim();if(!y.test(o))throw new TypeError("invalid media type");var a=new l(o.toLowerCase());if(t!==-1){var f,n,i;for(s.lastIndex=t;n=s.exec(e);){if(n.index!==t)throw new TypeError("invalid parameter format");t+=n[0].length,f=n[1].toLowerCase(),i=n[2],i.charCodeAt(0)===34&&(i=i.slice(1,-1),i.indexOf("\\")!==-1&&(i=i.replace(c,"$1"))),a.parameters[f]=i}if(t!==e.length)throw new TypeError("invalid parameter format")}return a}function T(r){var e;if(typeof r.getHeader=="function"?e=r.getHeader("content-type"):typeof r.headers=="object"&&(e=r.headers&&r.headers["content-type"]),typeof e!="string")throw new TypeError("content-type header is missing from object");return e}function g(r){var e=String(r);if(u.test(e))return e;if(e.length>0&&!d.test(e))throw new TypeError("invalid parameter value");return'"'+e.replace(v,"\\$1")+'"'}function l(r){this.parameters=Object.create(null),this.type=r}return p}var _=m();export{_ as c};
